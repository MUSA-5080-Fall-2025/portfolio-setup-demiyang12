{
  "hash": "17c233db3ed94e6996a956567dfd5e0c",
  "result": {
    "engine": "knitr",
    "markdown": "---\ntitle: \"Philadelphia Housing Model - Technical Appendix\"\nauthor: \"Jinyang Xu, Xinyuan Cui, Yuqing Yang\"\nformat: \n  html:\n    code-fold: show\n    toc: true\n    toc-location: left\n    theme: cosmo\n---\n\n## Phase 1: Data Preparation\n### Complete data cleaning code\n\n\n**1.1 Load and clean Philadelphia sales data:**\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n**1.2 Load and clean secondary dataset:**\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n**Summary tables showing before/after dimensions**\n\n\n::: {.cell}\n\n:::\n\n\n\n**Principles of Data Processing**\n\n- opa Data  \n  - Filter `sale_date` between `2023-01-01` and `2024-12-31`.  \n  - Keep only residential properties (`category_code == 1`).  \n  - Remove records with missing values in `total_livable_area`, `sale_price`, or `number_of_bathrooms`.  \n  - Filter records `year_built > 0` .\n  \n- Census data  \n  - Load data including `total_pop`, `ba_degree`, `total_edu`, `median_income`, `labor_force`, `unemployed`, `total_housing`, `vacant_housing`.\n  - Transform to spatial format and remove records with missing values.\n  \n- Spatial amenities\n  - Load datasets *Transit*, *crime*, *POIs*, *Hospitals*.\n  - Transform to spatial format and remove records with missing values.\n\n\n---\n\n## Phase 2: Feature Engineering \n\n### 2.1 Dependent Variable\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n### 2.2 opa Data\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 感觉这些好像没有额外的处理，如果这里没代码就删掉这个chunk就好了，记得改编号\n```\n:::\n\n\n\n### 2.3 Census tract\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n### 2.4 Spatial amenities\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n### 2.5 Other factors\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 依旧不需要代码的话可以删\n```\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n# 依旧不需要代码的话可以删\n```\n:::\n\n\n\n---\n\n\n## Phase 3: Exploratory Data Analysis\n\n### 3.1 Distribution of sale prices (histogram)\n\n\n::: {.cell}\n\n:::\n\n\n**Key Findings:** \n- **Highly Right-Skewed:** The bulk of the distribution is concentrated on the left side (low price range), while the right tail is very long, extending towards higher prices. This means that the majority of houses have lower prices, and very expensive houses are very few in number.  \n- **Concentration and Outliers:** The count of houses in each bin drops rapidly as the price increases. The number of houses above $2,500,000 is very small, indicating the presence of extreme high-price outliers.  \n- **Preprocessing Requirement:** This distribution strongly suggests that before building a house price prediction model, the Sale Price variable will need a transformation, most commonly a log transformation, to make the distribution more closely resemble a normal distribution.\n\n### 3.2 Spatial distribution of sale prices (map)\n\n\n::: {.cell}\n\n:::\n\n\n**Key Findings:**  \n- **Spatial Concentration of Housing Prices:** Highest Prices are clearly concentrated in the Center City/Downtown area of Philadelphia and its immediate surroundings, which indicates that the most expensive property transactions occur in the high-value areas of and around the city center.  \n- **Hotspots of Sales Activity:** The density of the dots indirectly reflects the frequency of housing transactions. Areas with lower and mid-range prices generally show a higher number of dots, suggesting higher sales volume in those locations.\n\n\n### 3.3 Price vs. structural features (scatter plots)\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n```{.r .cell-code}\n#这个真能画吗 我不知道\n```\n:::\n\n\n**Key Findings:**  \n\n\n### 3.4 Price vs. spatial & Social features (scatter plots)\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n\n::: {.cell}\n\n:::\n\n\n**Key Findings:**  \n\n\n### Other visualization\n\n\n::: {.cell}\n\n:::\n\n\n**Key Findings:**  \n- **Highest Value Areas:** The areas with the highest average price(darkest purple) are highly concentrated in the very core of Center City and a few immediately adjacent census tracts.   \n- **Strong Urban Core Premium:** This distribution strongly supports the Land Value Gradient Theory in urban economics: the closer a location is to the Central Business District (the hub of employment and commerce), the higher the value of its land per unit area.\n\n\n::: {.cell}\n\n:::\n\n\n**Key Findings:**   \n- **Best Condition Areas:** The best average interior conditions are highly concentrated in the extreme North of Philadelphia, showing one very prominent and dark purple area. Additionally, areas around Center City and in parts of the South also show darker shades of purple, suggesting relatively better average interior conditions for housing there.  \n- **Potential Correlation with Price:** There appears to be a strong positive correlation between housing quality and price; the census tracts with better average interior condition also correspond closely to those with the highest mean sale prices.\n\n\n::: {.cell}\n\n:::\n\n\n**Key Findings:**   \n- **Spatial Distribution of Livable Area:** The largest average livable areas are primarily concentrated in the Northwest and Southwest outer regions of Philadelphia. These areas often represent suburban or semi-suburban zones where lot sizes and, consequently, average house sizes tend to be larger.\n- **Reflection of Urban Structure:** This map clearly outlines the gradient of urbanization in Philadelphia. The closer to the city center, the smaller the average house size (higher density); the further out, the larger the average house size\n.\n\n---\n\n\n\n",
    "supporting": [],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}